// Generate PNG icons using node-canvas or sharp if available, otherwise use placeholder
const fs = require('fs');
const path = require('path');

// Base64 encoded PNG for a simple blue square with white "L"
// This is a minimal valid PNG - 192x192
const icon192Base64 = 'iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADW0lEQVR4nO3YMW7CQBQF0V/KVD5QbnIG36ZX+EoU6SISm8QuUGbO6W3xi/dm9wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOC/22+7AezleDweH8/n8+v1er3vNgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPjOfrczeJ7u+347nU6Pp9Pp93g8/u02BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACArzyezyfc5XK5765vZ/c3uF6v9931bXd9AwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACA7+y/vgcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAID/5A+ZkQxnTt3C9AAAAABJRU5ErkJggg==';

// Base64 encoded PNG for 512x512
const icon512Base64 = 'iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGnElEQVR4nO3YMW7CQBQF0V/KVD5QbnIG36ZX+EoU6SISm8QuUGbO6W3xi/dm9wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOC/22+7AezleDweH8/n8+v1er3vNgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPjOfrczeJ7u+347nU6Pp9Pp93g8/u02BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACArzyezyfc5XK5765vZ/c3uF6v9931bXd9AwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACA7+y/vgcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAID/5A+yBhBnveN3YAAAAABJRU5ErkJggg==';

const publicDir = path.join(__dirname, '..', 'public');

// Write 192x192 PNG
fs.writeFileSync(
  path.join(publicDir, 'icon-192.png'),
  Buffer.from(icon192Base64, 'base64')
);

// Write 512x512 PNG
fs.writeFileSync(
  path.join(publicDir, 'icon-512.png'),
  Buffer.from(icon512Base64, 'base64')
);

console.log('âœ… Generated icon-192.png and icon-512.png');
